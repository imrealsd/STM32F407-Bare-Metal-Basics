ARM GAS  /tmp/cclSrL32.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"aht21b.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.AHT21B_convertRawTemparature,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	AHT21B_convertRawTemparature:
  26              	.LVL0:
  27              	.LFB134:
  28              		.file 1 "Core/Src/aht21b.c"
   1:Core/Src/aht21b.c **** #include "aht21b.h"
   2:Core/Src/aht21b.c **** 
   3:Core/Src/aht21b.c **** 
   4:Core/Src/aht21b.c **** /*private function prototypes*/
   5:Core/Src/aht21b.c **** static float AHT21B_convertRawHumidity(uint32_t* pRawHumidity);
   6:Core/Src/aht21b.c **** static float AHT21B_convertRawTemparature(uint32_t* pRawTemparature);
   7:Core/Src/aht21b.c **** static void AHT21B_getRawValue(uint32_t* pRawTemparature, uint32_t* pRawHumidity);
   8:Core/Src/aht21b.c **** 
   9:Core/Src/aht21b.c **** 
  10:Core/Src/aht21b.c **** void AHT21B_setup(void)
  11:Core/Src/aht21b.c **** {   
  12:Core/Src/aht21b.c ****     uint8_t txData  = CMD_GET_STATUS;
  13:Core/Src/aht21b.c ****     uint8_t rxData  = 0x00; 
  14:Core/Src/aht21b.c **** 
  15:Core/Src/aht21b.c ****     HAL_Delay(100);
  16:Core/Src/aht21b.c ****     HAL_I2C_Master_Transmit(&hi2c1, AHT21B_ADDRESS, &txData, 1, HAL_MAX_DELAY);
  17:Core/Src/aht21b.c ****     HAL_I2C_Master_Receive(&hi2c1, AHT21B_ADDRESS, &rxData, 1, HAL_MAX_DELAY);
  18:Core/Src/aht21b.c ****     if (rxData != STATUS_OK) {
  19:Core/Src/aht21b.c ****         // yet to be implemented
  20:Core/Src/aht21b.c ****     }
  21:Core/Src/aht21b.c **** }
  22:Core/Src/aht21b.c **** 
  23:Core/Src/aht21b.c **** 
  24:Core/Src/aht21b.c **** float AHT21B_getTemparature(void)
  25:Core/Src/aht21b.c **** {
  26:Core/Src/aht21b.c ****     uint32_t rawTemp  = 0;
  27:Core/Src/aht21b.c ****     uint32_t rawHum   = 0;
  28:Core/Src/aht21b.c ****     float celciusTemp = 0;
  29:Core/Src/aht21b.c **** 
  30:Core/Src/aht21b.c ****     AHT21B_getRawValue(&rawTemp, &rawHum);
ARM GAS  /tmp/cclSrL32.s 			page 2


  31:Core/Src/aht21b.c ****     celciusTemp = AHT21B_convertRawTemparature(&rawTemp);
  32:Core/Src/aht21b.c ****     return celciusTemp;
  33:Core/Src/aht21b.c **** }
  34:Core/Src/aht21b.c **** 
  35:Core/Src/aht21b.c **** 
  36:Core/Src/aht21b.c **** float AHT21B_getHumidity(void)
  37:Core/Src/aht21b.c **** {
  38:Core/Src/aht21b.c ****     uint32_t rawTemp = 0;
  39:Core/Src/aht21b.c ****     uint32_t rawHum  = 0;
  40:Core/Src/aht21b.c ****     float humidity = 0;
  41:Core/Src/aht21b.c **** 
  42:Core/Src/aht21b.c ****     AHT21B_getRawValue(&rawTemp, &rawHum);
  43:Core/Src/aht21b.c ****     humidity = AHT21B_convertRawHumidity(&rawHum);
  44:Core/Src/aht21b.c ****     return humidity;
  45:Core/Src/aht21b.c **** }   
  46:Core/Src/aht21b.c **** 
  47:Core/Src/aht21b.c **** 
  48:Core/Src/aht21b.c **** static void AHT21B_getRawValue(uint32_t* pRawTemparature, uint32_t* pRawHumidity)
  49:Core/Src/aht21b.c **** {
  50:Core/Src/aht21b.c ****     uint8_t  txBuff[SIZE_TRIG_CONV_CMD];
  51:Core/Src/aht21b.c ****     uint8_t  rxBuff[SIZE_SESNOR_DATA];
  52:Core/Src/aht21b.c ****     uint32_t rawTemparature = 0x00;
  53:Core/Src/aht21b.c ****     uint32_t rawHumidity = 0x00;
  54:Core/Src/aht21b.c **** 
  55:Core/Src/aht21b.c ****     txBuff[0] = CMD_TRIG_CONV;
  56:Core/Src/aht21b.c ****     txBuff[1] = TRIG_CONV_ARG1;
  57:Core/Src/aht21b.c ****     txBuff[2] = TRIG_CONV_ARG2;
  58:Core/Src/aht21b.c **** 
  59:Core/Src/aht21b.c ****     HAL_Delay(10);
  60:Core/Src/aht21b.c ****     HAL_I2C_Master_Transmit(&hi2c1, AHT21B_ADDRESS, txBuff, SIZE_TRIG_CONV_CMD, HAL_MAX_DELAY);
  61:Core/Src/aht21b.c **** 
  62:Core/Src/aht21b.c ****     WAIT_FOR_CONVERSION:
  63:Core/Src/aht21b.c ****     txBuff[0] = CMD_GET_STATUS;
  64:Core/Src/aht21b.c ****     HAL_Delay(80);
  65:Core/Src/aht21b.c ****     HAL_I2C_Master_Transmit(&hi2c1, AHT21B_ADDRESS, txBuff, 1, HAL_MAX_DELAY);
  66:Core/Src/aht21b.c ****     HAL_I2C_Master_Receive(&hi2c1, AHT21B_ADDRESS, rxBuff, 1, HAL_MAX_DELAY);
  67:Core/Src/aht21b.c ****     if ((rxBuff[0] & (1 << 7)) != 0x00) {
  68:Core/Src/aht21b.c ****         goto WAIT_FOR_CONVERSION;
  69:Core/Src/aht21b.c ****     }
  70:Core/Src/aht21b.c **** 
  71:Core/Src/aht21b.c ****     memset(rxBuff, 0, SIZE_SESNOR_DATA);
  72:Core/Src/aht21b.c ****     HAL_I2C_Master_Receive(&hi2c1, AHT21B_ADDRESS, rxBuff, SIZE_SESNOR_DATA, HAL_MAX_DELAY);
  73:Core/Src/aht21b.c ****     
  74:Core/Src/aht21b.c ****     rawTemparature  = (uint32_t) rxBuff[1];
  75:Core/Src/aht21b.c ****     rawTemparature  = (rawTemparature << ONE_BYTE);
  76:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) rxBuff[2];
  77:Core/Src/aht21b.c ****     rawTemparature  = (rawTemparature << ONE_NIBBLE);
  78:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) ((UPPER_NIBBLE & rxBuff[3]) >> ONE_NIBBLE);
  79:Core/Src/aht21b.c ****     *pRawTemparature = rawTemparature;
  80:Core/Src/aht21b.c **** 
  81:Core/Src/aht21b.c ****     rawHumidity  = (uint32_t) (LOWER_NIBBLE & rxBuff[3]);
  82:Core/Src/aht21b.c ****     rawHumidity  = (rawHumidity << ONE_BYTE);
  83:Core/Src/aht21b.c ****     rawHumidity |= (uint32_t) rxBuff[4];
  84:Core/Src/aht21b.c ****     rawHumidity  = (rawHumidity << ONE_BYTE);
  85:Core/Src/aht21b.c ****     rawHumidity |= (uint32_t) rxBuff[5];
  86:Core/Src/aht21b.c ****     *pRawHumidity = rawHumidity;
  87:Core/Src/aht21b.c **** }
ARM GAS  /tmp/cclSrL32.s 			page 3


  88:Core/Src/aht21b.c **** 
  89:Core/Src/aht21b.c **** static float AHT21B_convertRawTemparature(uint32_t* pRawTemparature)
  90:Core/Src/aht21b.c **** {
  29              		.loc 1 90 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  91:Core/Src/aht21b.c ****     float celciusTemp;
  34              		.loc 1 91 5 view .LVU1
  92:Core/Src/aht21b.c ****     celciusTemp = (((float)(*pRawTemparature) / (float) pow(2, 20)) * 200) - 50;
  35              		.loc 1 92 5 view .LVU2
  36              		.loc 1 92 29 is_stmt 0 view .LVU3
  37 0000 D0ED007A 		vldr.32	s15, [r0]	@ int
  38              		.loc 1 92 21 view .LVU4
  39 0004 F8EE677A 		vcvt.f32.u32	s15, s15
  40              		.loc 1 92 47 view .LVU5
  41 0008 9FED060A 		vldr.32	s0, .L2
  42 000c 67EE807A 		vmul.f32	s15, s15, s0
  43              		.loc 1 92 69 view .LVU6
  44 0010 9FED050A 		vldr.32	s0, .L2+4
  45 0014 67EE807A 		vmul.f32	s15, s15, s0
  46              	.LVL1:
  93:Core/Src/aht21b.c ****     return celciusTemp;
  47              		.loc 1 93 5 is_stmt 1 view .LVU7
  94:Core/Src/aht21b.c **** }
  48              		.loc 1 94 1 is_stmt 0 view .LVU8
  49 0018 9FED040A 		vldr.32	s0, .L2+8
  50 001c 37EEC00A 		vsub.f32	s0, s15, s0
  51              	.LVL2:
  52              		.loc 1 94 1 view .LVU9
  53 0020 7047     		bx	lr
  54              	.L3:
  55 0022 00BF     		.align	2
  56              	.L2:
  57 0024 00008035 		.word	897581056
  58 0028 00004843 		.word	1128792064
  59 002c 00004842 		.word	1112014848
  60              		.cfi_endproc
  61              	.LFE134:
  63              		.section	.text.AHT21B_convertRawHumidity,"ax",%progbits
  64              		.align	1
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  69              	AHT21B_convertRawHumidity:
  70              	.LVL3:
  71              	.LFB135:
  95:Core/Src/aht21b.c **** 
  96:Core/Src/aht21b.c **** 
  97:Core/Src/aht21b.c **** static float AHT21B_convertRawHumidity(uint32_t* pRawHumidity)
  98:Core/Src/aht21b.c **** {
  72              		.loc 1 98 1 is_stmt 1 view -0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		@ link register save eliminated.
ARM GAS  /tmp/cclSrL32.s 			page 4


  99:Core/Src/aht21b.c ****     float humidity;
  77              		.loc 1 99 5 view .LVU11
 100:Core/Src/aht21b.c ****     humidity = (((float)(*pRawHumidity) / (float) pow(2, 20)) * 100);
  78              		.loc 1 100 5 view .LVU12
  79              		.loc 1 100 26 is_stmt 0 view .LVU13
  80 0000 D0ED007A 		vldr.32	s15, [r0]	@ int
  81              		.loc 1 100 18 view .LVU14
  82 0004 F8EE677A 		vcvt.f32.u32	s15, s15
  83              		.loc 1 100 41 view .LVU15
  84 0008 9FED040A 		vldr.32	s0, .L5
  85 000c 67EE807A 		vmul.f32	s15, s15, s0
  86              	.LVL4:
 101:Core/Src/aht21b.c ****     return humidity;
  87              		.loc 1 101 5 is_stmt 1 view .LVU16
 102:Core/Src/aht21b.c **** }...
  88              		.loc 1 102 1 is_stmt 0 view .LVU17
  89 0010 9FED030A 		vldr.32	s0, .L5+4
  90 0014 27EE800A 		vmul.f32	s0, s15, s0
  91              	.LVL5:
  92              		.loc 1 102 1 view .LVU18
  93 0018 7047     		bx	lr
  94              	.L6:
  95 001a 00BF     		.align	2
  96              	.L5:
  97 001c 00008035 		.word	897581056
  98 0020 0000C842 		.word	1120403456
  99              		.cfi_endproc
 100              	.LFE135:
 102              		.section	.text.AHT21B_getRawValue,"ax",%progbits
 103              		.align	1
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 108              	AHT21B_getRawValue:
 109              	.LVL6:
 110              	.LFB133:
  49:Core/Src/aht21b.c **** {
 111              		.loc 1 49 1 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 16
 114              		@ frame_needed = 0, uses_anonymous_args = 0
  49:Core/Src/aht21b.c **** {
 115              		.loc 1 49 1 is_stmt 0 view .LVU20
 116 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 117              	.LCFI0:
 118              		.cfi_def_cfa_offset 20
 119              		.cfi_offset 4, -20
 120              		.cfi_offset 5, -16
 121              		.cfi_offset 6, -12
 122              		.cfi_offset 7, -8
 123              		.cfi_offset 14, -4
 124 0002 87B0     		sub	sp, sp, #28
 125              	.LCFI1:
 126              		.cfi_def_cfa_offset 48
 127 0004 0746     		mov	r7, r0
 128 0006 0E46     		mov	r6, r1
  50:Core/Src/aht21b.c ****     uint8_t  txBuff[SIZE_TRIG_CONV_CMD];
ARM GAS  /tmp/cclSrL32.s 			page 5


 129              		.loc 1 50 5 is_stmt 1 view .LVU21
  51:Core/Src/aht21b.c ****     uint8_t  rxBuff[SIZE_SESNOR_DATA];
 130              		.loc 1 51 5 view .LVU22
  52:Core/Src/aht21b.c ****     uint32_t rawTemparature = 0x00;
 131              		.loc 1 52 5 view .LVU23
 132              	.LVL7:
  53:Core/Src/aht21b.c ****     uint32_t rawHumidity = 0x00;
 133              		.loc 1 53 5 view .LVU24
  55:Core/Src/aht21b.c ****     txBuff[0] = CMD_TRIG_CONV;
 134              		.loc 1 55 5 view .LVU25
  55:Core/Src/aht21b.c ****     txBuff[0] = CMD_TRIG_CONV;
 135              		.loc 1 55 15 is_stmt 0 view .LVU26
 136 0008 AC23     		movs	r3, #172
 137 000a 8DF81430 		strb	r3, [sp, #20]
  56:Core/Src/aht21b.c ****     txBuff[1] = TRIG_CONV_ARG1;
 138              		.loc 1 56 5 is_stmt 1 view .LVU27
  56:Core/Src/aht21b.c ****     txBuff[1] = TRIG_CONV_ARG1;
 139              		.loc 1 56 15 is_stmt 0 view .LVU28
 140 000e 3323     		movs	r3, #51
 141 0010 8DF81530 		strb	r3, [sp, #21]
  57:Core/Src/aht21b.c ****     txBuff[2] = TRIG_CONV_ARG2;
 142              		.loc 1 57 5 is_stmt 1 view .LVU29
  57:Core/Src/aht21b.c ****     txBuff[2] = TRIG_CONV_ARG2;
 143              		.loc 1 57 15 is_stmt 0 view .LVU30
 144 0014 0023     		movs	r3, #0
 145 0016 8DF81630 		strb	r3, [sp, #22]
  59:Core/Src/aht21b.c ****     HAL_Delay(10);
 146              		.loc 1 59 5 is_stmt 1 view .LVU31
 147 001a 0A20     		movs	r0, #10
 148              	.LVL8:
  59:Core/Src/aht21b.c ****     HAL_Delay(10);
 149              		.loc 1 59 5 is_stmt 0 view .LVU32
 150 001c FFF7FEFF 		bl	HAL_Delay
 151              	.LVL9:
  60:Core/Src/aht21b.c ****     HAL_I2C_Master_Transmit(&hi2c1, AHT21B_ADDRESS, txBuff, SIZE_TRIG_CONV_CMD, HAL_MAX_DELAY);
 152              		.loc 1 60 5 is_stmt 1 view .LVU33
 153 0020 4FF0FF33 		mov	r3, #-1
 154 0024 0093     		str	r3, [sp]
 155 0026 0323     		movs	r3, #3
 156 0028 05AA     		add	r2, sp, #20
 157 002a 3821     		movs	r1, #56
 158 002c 2048     		ldr	r0, .L10
 159 002e FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 160              	.LVL10:
 161              	.L8:
  63:Core/Src/aht21b.c ****     txBuff[0] = CMD_GET_STATUS;
 162              		.loc 1 63 5 view .LVU34
  63:Core/Src/aht21b.c ****     txBuff[0] = CMD_GET_STATUS;
 163              		.loc 1 63 15 is_stmt 0 view .LVU35
 164 0032 7123     		movs	r3, #113
 165 0034 8DF81430 		strb	r3, [sp, #20]
  64:Core/Src/aht21b.c ****     HAL_Delay(80);
 166              		.loc 1 64 5 is_stmt 1 view .LVU36
 167 0038 5020     		movs	r0, #80
 168 003a FFF7FEFF 		bl	HAL_Delay
 169              	.LVL11:
  65:Core/Src/aht21b.c ****     HAL_I2C_Master_Transmit(&hi2c1, AHT21B_ADDRESS, txBuff, 1, HAL_MAX_DELAY);
ARM GAS  /tmp/cclSrL32.s 			page 6


 170              		.loc 1 65 5 view .LVU37
 171 003e 1C4C     		ldr	r4, .L10
 172 0040 4FF0FF35 		mov	r5, #-1
 173 0044 0095     		str	r5, [sp]
 174 0046 0123     		movs	r3, #1
 175 0048 05AA     		add	r2, sp, #20
 176 004a 3821     		movs	r1, #56
 177 004c 2046     		mov	r0, r4
 178 004e FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 179              	.LVL12:
  66:Core/Src/aht21b.c ****     HAL_I2C_Master_Receive(&hi2c1, AHT21B_ADDRESS, rxBuff, 1, HAL_MAX_DELAY);
 180              		.loc 1 66 5 view .LVU38
 181 0052 0095     		str	r5, [sp]
 182 0054 0123     		movs	r3, #1
 183 0056 03AA     		add	r2, sp, #12
 184 0058 3821     		movs	r1, #56
 185 005a 2046     		mov	r0, r4
 186 005c FFF7FEFF 		bl	HAL_I2C_Master_Receive
 187              	.LVL13:
  67:Core/Src/aht21b.c ****     if ((rxBuff[0] & (1 << 7)) != 0x00) {
 188              		.loc 1 67 5 view .LVU39
  67:Core/Src/aht21b.c ****     if ((rxBuff[0] & (1 << 7)) != 0x00) {
 189              		.loc 1 67 32 is_stmt 0 view .LVU40
 190 0060 9DF90C30 		ldrsb	r3, [sp, #12]
  67:Core/Src/aht21b.c ****     if ((rxBuff[0] & (1 << 7)) != 0x00) {
 191              		.loc 1 67 8 view .LVU41
 192 0064 002B     		cmp	r3, #0
 193 0066 E4DB     		blt	.L8
  71:Core/Src/aht21b.c ****     memset(rxBuff, 0, SIZE_SESNOR_DATA);
 194              		.loc 1 71 5 is_stmt 1 view .LVU42
 195 0068 0023     		movs	r3, #0
 196 006a 0393     		str	r3, [sp, #12]
 197 006c ADF81030 		strh	r3, [sp, #16]	@ movhi
  72:Core/Src/aht21b.c ****     HAL_I2C_Master_Receive(&hi2c1, AHT21B_ADDRESS, rxBuff, SIZE_SESNOR_DATA, HAL_MAX_DELAY);
 198              		.loc 1 72 5 view .LVU43
 199 0070 0095     		str	r5, [sp]
 200 0072 0623     		movs	r3, #6
 201 0074 03AA     		add	r2, sp, #12
 202 0076 3821     		movs	r1, #56
 203 0078 2046     		mov	r0, r4
 204 007a FFF7FEFF 		bl	HAL_I2C_Master_Receive
 205              	.LVL14:
  74:Core/Src/aht21b.c ****     rawTemparature  = (uint32_t) rxBuff[1];
 206              		.loc 1 74 5 view .LVU44
  74:Core/Src/aht21b.c ****     rawTemparature  = (uint32_t) rxBuff[1];
 207              		.loc 1 74 40 is_stmt 0 view .LVU45
 208 007e 9DF80D10 		ldrb	r1, [sp, #13]	@ zero_extendqisi2
 209              	.LVL15:
  75:Core/Src/aht21b.c ****     rawTemparature  = (rawTemparature << ONE_BYTE);
 210              		.loc 1 75 5 is_stmt 1 view .LVU46
  76:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) rxBuff[2];
 211              		.loc 1 76 5 view .LVU47
  76:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) rxBuff[2];
 212              		.loc 1 76 40 is_stmt 0 view .LVU48
 213 0082 9DF80E20 		ldrb	r2, [sp, #14]	@ zero_extendqisi2
  76:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) rxBuff[2];
 214              		.loc 1 76 20 view .LVU49
ARM GAS  /tmp/cclSrL32.s 			page 7


 215 0086 42EA0121 		orr	r1, r2, r1, lsl #8
 216              	.LVL16:
  77:Core/Src/aht21b.c ****     rawTemparature  = (rawTemparature << ONE_NIBBLE);
 217              		.loc 1 77 5 is_stmt 1 view .LVU50
  78:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) ((UPPER_NIBBLE & rxBuff[3]) >> ONE_NIBBLE);
 218              		.loc 1 78 5 view .LVU51
  78:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) ((UPPER_NIBBLE & rxBuff[3]) >> ONE_NIBBLE);
 219              		.loc 1 78 57 is_stmt 0 view .LVU52
 220 008a 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
  78:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) ((UPPER_NIBBLE & rxBuff[3]) >> ONE_NIBBLE);
 221              		.loc 1 78 23 view .LVU53
 222 008e 1A09     		lsrs	r2, r3, #4
  78:Core/Src/aht21b.c ****     rawTemparature |= (uint32_t) ((UPPER_NIBBLE & rxBuff[3]) >> ONE_NIBBLE);
 223              		.loc 1 78 20 view .LVU54
 224 0090 42EA0112 		orr	r2, r2, r1, lsl #4
 225              	.LVL17:
  79:Core/Src/aht21b.c ****     *pRawTemparature = rawTemparature;
 226              		.loc 1 79 5 is_stmt 1 view .LVU55
  79:Core/Src/aht21b.c ****     *pRawTemparature = rawTemparature;
 227              		.loc 1 79 22 is_stmt 0 view .LVU56
 228 0094 3A60     		str	r2, [r7]
  81:Core/Src/aht21b.c ****     rawHumidity  = (uint32_t) (LOWER_NIBBLE & rxBuff[3]);
 229              		.loc 1 81 5 is_stmt 1 view .LVU57
  81:Core/Src/aht21b.c ****     rawHumidity  = (uint32_t) (LOWER_NIBBLE & rxBuff[3]);
 230              		.loc 1 81 18 is_stmt 0 view .LVU58
 231 0096 03F00F03 		and	r3, r3, #15
 232              	.LVL18:
  82:Core/Src/aht21b.c ****     rawHumidity  = (rawHumidity << ONE_BYTE);
 233              		.loc 1 82 5 is_stmt 1 view .LVU59
  83:Core/Src/aht21b.c ****     rawHumidity |= (uint32_t) rxBuff[4];
 234              		.loc 1 83 5 view .LVU60
  83:Core/Src/aht21b.c ****     rawHumidity |= (uint32_t) rxBuff[4];
 235              		.loc 1 83 37 is_stmt 0 view .LVU61
 236 009a 9DF81020 		ldrb	r2, [sp, #16]	@ zero_extendqisi2
 237              	.LVL19:
  83:Core/Src/aht21b.c ****     rawHumidity |= (uint32_t) rxBuff[4];
 238              		.loc 1 83 17 view .LVU62
 239 009e 42EA0322 		orr	r2, r2, r3, lsl #8
 240              	.LVL20:
  84:Core/Src/aht21b.c ****     rawHumidity  = (rawHumidity << ONE_BYTE);
 241              		.loc 1 84 5 is_stmt 1 view .LVU63
  85:Core/Src/aht21b.c ****     rawHumidity |= (uint32_t) rxBuff[5];
 242              		.loc 1 85 5 view .LVU64
  85:Core/Src/aht21b.c ****     rawHumidity |= (uint32_t) rxBuff[5];
 243              		.loc 1 85 37 is_stmt 0 view .LVU65
 244 00a2 9DF81130 		ldrb	r3, [sp, #17]	@ zero_extendqisi2
  85:Core/Src/aht21b.c ****     rawHumidity |= (uint32_t) rxBuff[5];
 245              		.loc 1 85 17 view .LVU66
 246 00a6 43EA0223 		orr	r3, r3, r2, lsl #8
 247              	.LVL21:
  86:Core/Src/aht21b.c ****     *pRawHumidity = rawHumidity;
 248              		.loc 1 86 5 is_stmt 1 view .LVU67
  86:Core/Src/aht21b.c ****     *pRawHumidity = rawHumidity;
 249              		.loc 1 86 19 is_stmt 0 view .LVU68
 250 00aa 3360     		str	r3, [r6]
 251              	.LVL22:
  87:Core/Src/aht21b.c **** }
ARM GAS  /tmp/cclSrL32.s 			page 8


 252              		.loc 1 87 1 view .LVU69
 253 00ac 07B0     		add	sp, sp, #28
 254              	.LCFI2:
 255              		.cfi_def_cfa_offset 20
 256              		@ sp needed
 257 00ae F0BD     		pop	{r4, r5, r6, r7, pc}
 258              	.LVL23:
 259              	.L11:
  87:Core/Src/aht21b.c **** }
 260              		.loc 1 87 1 view .LVU70
 261              		.align	2
 262              	.L10:
 263 00b0 00000000 		.word	hi2c1
 264              		.cfi_endproc
 265              	.LFE133:
 267              		.section	.text.AHT21B_setup,"ax",%progbits
 268              		.align	1
 269              		.global	AHT21B_setup
 270              		.syntax unified
 271              		.thumb
 272              		.thumb_func
 274              	AHT21B_setup:
 275              	.LFB130:
  11:Core/Src/aht21b.c **** {   
 276              		.loc 1 11 1 is_stmt 1 view -0
 277              		.cfi_startproc
 278              		@ args = 0, pretend = 0, frame = 8
 279              		@ frame_needed = 0, uses_anonymous_args = 0
 280 0000 30B5     		push	{r4, r5, lr}
 281              	.LCFI3:
 282              		.cfi_def_cfa_offset 12
 283              		.cfi_offset 4, -12
 284              		.cfi_offset 5, -8
 285              		.cfi_offset 14, -4
 286 0002 85B0     		sub	sp, sp, #20
 287              	.LCFI4:
 288              		.cfi_def_cfa_offset 32
  12:Core/Src/aht21b.c ****     uint8_t txData  = CMD_GET_STATUS;
 289              		.loc 1 12 5 view .LVU72
  12:Core/Src/aht21b.c ****     uint8_t txData  = CMD_GET_STATUS;
 290              		.loc 1 12 13 is_stmt 0 view .LVU73
 291 0004 7123     		movs	r3, #113
 292 0006 8DF80F30 		strb	r3, [sp, #15]
  13:Core/Src/aht21b.c ****     uint8_t rxData  = 0x00; 
 293              		.loc 1 13 5 is_stmt 1 view .LVU74
  13:Core/Src/aht21b.c ****     uint8_t rxData  = 0x00; 
 294              		.loc 1 13 13 is_stmt 0 view .LVU75
 295 000a 0023     		movs	r3, #0
 296 000c 8DF80E30 		strb	r3, [sp, #14]
  15:Core/Src/aht21b.c ****     HAL_Delay(100);
 297              		.loc 1 15 5 is_stmt 1 view .LVU76
 298 0010 6420     		movs	r0, #100
 299 0012 FFF7FEFF 		bl	HAL_Delay
 300              	.LVL24:
  16:Core/Src/aht21b.c ****     HAL_I2C_Master_Transmit(&hi2c1, AHT21B_ADDRESS, &txData, 1, HAL_MAX_DELAY);
 301              		.loc 1 16 5 view .LVU77
 302 0016 0A4C     		ldr	r4, .L14
ARM GAS  /tmp/cclSrL32.s 			page 9


 303 0018 4FF0FF35 		mov	r5, #-1
 304 001c 0095     		str	r5, [sp]
 305 001e 0123     		movs	r3, #1
 306 0020 0DF10F02 		add	r2, sp, #15
 307 0024 3821     		movs	r1, #56
 308 0026 2046     		mov	r0, r4
 309 0028 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 310              	.LVL25:
  17:Core/Src/aht21b.c ****     HAL_I2C_Master_Receive(&hi2c1, AHT21B_ADDRESS, &rxData, 1, HAL_MAX_DELAY);
 311              		.loc 1 17 5 view .LVU78
 312 002c 0095     		str	r5, [sp]
 313 002e 0123     		movs	r3, #1
 314 0030 0DF10E02 		add	r2, sp, #14
 315 0034 3821     		movs	r1, #56
 316 0036 2046     		mov	r0, r4
 317 0038 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 318              	.LVL26:
  18:Core/Src/aht21b.c ****     if (rxData != STATUS_OK) {
 319              		.loc 1 18 5 view .LVU79
  20:Core/Src/aht21b.c ****     }
 320              		.loc 1 20 5 view .LVU80
  21:Core/Src/aht21b.c **** }
 321              		.loc 1 21 1 is_stmt 0 view .LVU81
 322 003c 05B0     		add	sp, sp, #20
 323              	.LCFI5:
 324              		.cfi_def_cfa_offset 12
 325              		@ sp needed
 326 003e 30BD     		pop	{r4, r5, pc}
 327              	.L15:
 328              		.align	2
 329              	.L14:
 330 0040 00000000 		.word	hi2c1
 331              		.cfi_endproc
 332              	.LFE130:
 334              		.section	.text.AHT21B_getTemparature,"ax",%progbits
 335              		.align	1
 336              		.global	AHT21B_getTemparature
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 341              	AHT21B_getTemparature:
 342              	.LFB131:
  25:Core/Src/aht21b.c **** {
 343              		.loc 1 25 1 is_stmt 1 view -0
 344              		.cfi_startproc
 345              		@ args = 0, pretend = 0, frame = 8
 346              		@ frame_needed = 0, uses_anonymous_args = 0
 347 0000 00B5     		push	{lr}
 348              	.LCFI6:
 349              		.cfi_def_cfa_offset 4
 350              		.cfi_offset 14, -4
 351 0002 83B0     		sub	sp, sp, #12
 352              	.LCFI7:
 353              		.cfi_def_cfa_offset 16
  26:Core/Src/aht21b.c ****     uint32_t rawTemp  = 0;
 354              		.loc 1 26 5 view .LVU83
  26:Core/Src/aht21b.c ****     uint32_t rawTemp  = 0;
ARM GAS  /tmp/cclSrL32.s 			page 10


 355              		.loc 1 26 14 is_stmt 0 view .LVU84
 356 0004 0023     		movs	r3, #0
 357 0006 0193     		str	r3, [sp, #4]
  27:Core/Src/aht21b.c ****     uint32_t rawHum   = 0;
 358              		.loc 1 27 5 is_stmt 1 view .LVU85
  27:Core/Src/aht21b.c ****     uint32_t rawHum   = 0;
 359              		.loc 1 27 14 is_stmt 0 view .LVU86
 360 0008 0093     		str	r3, [sp]
  28:Core/Src/aht21b.c ****     float celciusTemp = 0;
 361              		.loc 1 28 5 is_stmt 1 view .LVU87
 362              	.LVL27:
  30:Core/Src/aht21b.c ****     AHT21B_getRawValue(&rawTemp, &rawHum);
 363              		.loc 1 30 5 view .LVU88
 364 000a 6946     		mov	r1, sp
 365 000c 01A8     		add	r0, sp, #4
 366 000e FFF7FEFF 		bl	AHT21B_getRawValue
 367              	.LVL28:
  31:Core/Src/aht21b.c ****     celciusTemp = AHT21B_convertRawTemparature(&rawTemp);
 368              		.loc 1 31 5 view .LVU89
  31:Core/Src/aht21b.c ****     celciusTemp = AHT21B_convertRawTemparature(&rawTemp);
 369              		.loc 1 31 19 is_stmt 0 view .LVU90
 370 0012 01A8     		add	r0, sp, #4
 371 0014 FFF7FEFF 		bl	AHT21B_convertRawTemparature
 372              	.LVL29:
  32:Core/Src/aht21b.c ****     return celciusTemp;
 373              		.loc 1 32 5 is_stmt 1 view .LVU91
  33:Core/Src/aht21b.c **** }
 374              		.loc 1 33 1 is_stmt 0 view .LVU92
 375 0018 03B0     		add	sp, sp, #12
 376              	.LCFI8:
 377              		.cfi_def_cfa_offset 4
 378              		@ sp needed
 379 001a 5DF804FB 		ldr	pc, [sp], #4
 380              		.cfi_endproc
 381              	.LFE131:
 383              		.section	.text.AHT21B_getHumidity,"ax",%progbits
 384              		.align	1
 385              		.global	AHT21B_getHumidity
 386              		.syntax unified
 387              		.thumb
 388              		.thumb_func
 390              	AHT21B_getHumidity:
 391              	.LFB132:
  37:Core/Src/aht21b.c **** {
 392              		.loc 1 37 1 is_stmt 1 view -0
 393              		.cfi_startproc
 394              		@ args = 0, pretend = 0, frame = 8
 395              		@ frame_needed = 0, uses_anonymous_args = 0
 396 0000 00B5     		push	{lr}
 397              	.LCFI9:
 398              		.cfi_def_cfa_offset 4
 399              		.cfi_offset 14, -4
 400 0002 83B0     		sub	sp, sp, #12
 401              	.LCFI10:
 402              		.cfi_def_cfa_offset 16
  38:Core/Src/aht21b.c ****     uint32_t rawTemp = 0;
 403              		.loc 1 38 5 view .LVU94
ARM GAS  /tmp/cclSrL32.s 			page 11


  38:Core/Src/aht21b.c ****     uint32_t rawTemp = 0;
 404              		.loc 1 38 14 is_stmt 0 view .LVU95
 405 0004 0023     		movs	r3, #0
 406 0006 0193     		str	r3, [sp, #4]
  39:Core/Src/aht21b.c ****     uint32_t rawHum  = 0;
 407              		.loc 1 39 5 is_stmt 1 view .LVU96
  39:Core/Src/aht21b.c ****     uint32_t rawHum  = 0;
 408              		.loc 1 39 14 is_stmt 0 view .LVU97
 409 0008 0093     		str	r3, [sp]
  40:Core/Src/aht21b.c ****     float humidity = 0;
 410              		.loc 1 40 5 is_stmt 1 view .LVU98
 411              	.LVL30:
  42:Core/Src/aht21b.c ****     AHT21B_getRawValue(&rawTemp, &rawHum);
 412              		.loc 1 42 5 view .LVU99
 413 000a 6946     		mov	r1, sp
 414 000c 01A8     		add	r0, sp, #4
 415 000e FFF7FEFF 		bl	AHT21B_getRawValue
 416              	.LVL31:
  43:Core/Src/aht21b.c ****     humidity = AHT21B_convertRawHumidity(&rawHum);
 417              		.loc 1 43 5 view .LVU100
  43:Core/Src/aht21b.c ****     humidity = AHT21B_convertRawHumidity(&rawHum);
 418              		.loc 1 43 16 is_stmt 0 view .LVU101
 419 0012 6846     		mov	r0, sp
 420 0014 FFF7FEFF 		bl	AHT21B_convertRawHumidity
 421              	.LVL32:
  44:Core/Src/aht21b.c ****     return humidity;
 422              		.loc 1 44 5 is_stmt 1 view .LVU102
  45:Core/Src/aht21b.c **** }   
 423              		.loc 1 45 1 is_stmt 0 view .LVU103
 424 0018 03B0     		add	sp, sp, #12
 425              	.LCFI11:
 426              		.cfi_def_cfa_offset 4
 427              		@ sp needed
 428 001a 5DF804FB 		ldr	pc, [sp], #4
 429              		.cfi_endproc
 430              	.LFE132:
 432              		.text
 433              	.Letext0:
 434              		.file 2 "/opt/ARM-GCC/arm-none-eabi/include/machine/_default_types.h"
 435              		.file 3 "/opt/ARM-GCC/arm-none-eabi/include/sys/_stdint.h"
 436              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 437              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 438              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 439              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 440              		.file 8 "Core/Inc/i2c.h"
 441              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/cclSrL32.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 aht21b.c
     /tmp/cclSrL32.s:20     .text.AHT21B_convertRawTemparature:0000000000000000 $t
     /tmp/cclSrL32.s:25     .text.AHT21B_convertRawTemparature:0000000000000000 AHT21B_convertRawTemparature
     /tmp/cclSrL32.s:57     .text.AHT21B_convertRawTemparature:0000000000000024 $d
     /tmp/cclSrL32.s:64     .text.AHT21B_convertRawHumidity:0000000000000000 $t
     /tmp/cclSrL32.s:69     .text.AHT21B_convertRawHumidity:0000000000000000 AHT21B_convertRawHumidity
     /tmp/cclSrL32.s:97     .text.AHT21B_convertRawHumidity:000000000000001c $d
     /tmp/cclSrL32.s:103    .text.AHT21B_getRawValue:0000000000000000 $t
     /tmp/cclSrL32.s:108    .text.AHT21B_getRawValue:0000000000000000 AHT21B_getRawValue
     /tmp/cclSrL32.s:263    .text.AHT21B_getRawValue:00000000000000b0 $d
     /tmp/cclSrL32.s:268    .text.AHT21B_setup:0000000000000000 $t
     /tmp/cclSrL32.s:274    .text.AHT21B_setup:0000000000000000 AHT21B_setup
     /tmp/cclSrL32.s:330    .text.AHT21B_setup:0000000000000040 $d
     /tmp/cclSrL32.s:335    .text.AHT21B_getTemparature:0000000000000000 $t
     /tmp/cclSrL32.s:341    .text.AHT21B_getTemparature:0000000000000000 AHT21B_getTemparature
     /tmp/cclSrL32.s:384    .text.AHT21B_getHumidity:0000000000000000 $t
     /tmp/cclSrL32.s:390    .text.AHT21B_getHumidity:0000000000000000 AHT21B_getHumidity

UNDEFINED SYMBOLS
HAL_Delay
HAL_I2C_Master_Transmit
HAL_I2C_Master_Receive
hi2c1
